<!DOCTYPE html>
<html lang="en">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Courses - Skedule</title>
	<link href="../../img/logo-black.png" rel="icon" type="image/png" />

	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">


	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"
		integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />

	<!-- Firebase 8 CDNs-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
	<script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script>

	<!-- Link to the api keys for your firebase project -->
	<script src="../../scripts/firebaseAPI.js"></script>
	<!-- Optional styles and scripts of your own -->
	<link rel="stylesheet" href="../../styles/my_style.css">

</head>

<body>
	<!-------------------------------------->
    <!-- The following is HTML for layout -->
    <!-------------------------------------->
	<!-- Navbar -->
	<div class="navbar1">
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<div class="container-fluid">
				<a class="navbar-brand" href="../main/main.html"><img src="../../img/logo-trans.png" alt="logo"
						style="max-width: 60px"></a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
					data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
					aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarSupportedContent">
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item">
							<a class="nav-link" href="../main/main.html">Home</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="../main/courses.html">Courses</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="../assignment/assignment.html">Assignments</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="../main/calendar.html">Calendar</a>
						</li>
						<li class="nav-item">
							<a href="../profile/profile.html" class="nav-link">Profile</a>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
								data-bs-toggle="dropdown" aria-expanded="false">
								More
							</a>
							<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
								<li><a class="dropdown-item" href="../main/about.html">About Us</a></li>
								<li><a class="dropdown-item" href="../main/feedback.html">Feedback</a></li>
							</ul>
						</li>
					</ul>
					<ul class="right-menu">
						<li class="nav-item login">
							<a href="../../index.html" class="btn-top">Log out</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>
	</div>

	<!-- Navbar2 - Offcanvas -->
	<div class="navbar2">
		<nav class="navbar navbar-expand-lg navbar-light bg-dark">
			<div class="container-fluid">
				<a class="navbar-brand" href="../main/main.html"><img src="../../img/logo-trans.png" alt="logo"
						style="max-width: 60px"></a>
				<button class="navbar-toggler bg-light" type="button" data-bs-toggle="offcanvas"
					data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar"
					aria-labelledby="offcanvasNavbarLabel">
					<div class="offcanvas-header">
						<h2 class="offcanvas-title" id="offcanvasNavbarLabel"><a href="../../index.html"><img
									src="../../img/logo-black.png" alt="logo" style="max-width: 60px"></a>Skedule</h2>
						<button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas"
							aria-label="Close"></button>
					</div>
					<div class="offcanvas-body">
						<ul class="navbar-nav me-auto mb-2 mb-lg-0 ">
							<li class="nav-item">
								<a class="nav-link" href="../main/main.html">Home</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="../main/courses.html">Courses</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="../assignment/assignment.html">Assignments</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="../main/calendar.html">Calendar</a>
							</li>
							<li class="nav-item">
								<a href="../profile/profile.html" class="nav-link">Profile</a>
							</li>
							<li>
								<hr />
							</li>
							<li class="nav-item">
								<a class="nav-link" href="../main/about.html">About Us</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="../main/feedback.html">Feedback</a>
							</li>
							<li class="nav-item login">
								<a class="nav-link" href="../../index.html">Log out</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</nav>
	</div>

	<!-- Templates for general use, not displayed -->
	<template id="CardTemplate">
		<div class="card py-2 mx-2" style="width: 18rem;">
			<img class="card-image" src=" ..." class="card-img-top" alt="...">
			<div class="card-body">
				<h6 class="card-title">Card title</h6>
				<p class="card-text">Some quick example text to build on the card title and make up the bulk of the
					card's content.</p>
				<p class="card-text1">Some quick example text to build on the card title and make up the bulk of the
					card's content.</p>
				<p class="card-text2">Some quick example text to build on the card title and make up the bulk of the
					card's content.</p>
			</div>
		</div>
	</template>

	<div class="container">
		<h2>Ongoing Courses</h2>
		<!-- Here is container for cards  -->
		<div class="container">
			<div id="Term1-go-here" class="row row-cols-auto">

			</div>
		</div>
	</div>

	<!-- Footer -->
	<div class="container bac">
		<footer>
			<hr />
			<img src="../../img/logo-black.png" alt="logo" style="max-width: 60px">
			<p class="text-muted">&copy; 2021 BBY12, Inc</p>
		</footer>
	</div>

	<!--------------------------------------------------------------------->
    <!-- JS files: Our own JavaScript functions included here    -->
    <!--------------------------------------------------------------------->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous">
		</script>

	<script>
		function logout() {
			console.log("logging out user");
			firebase.auth().signOut().then(() => {
				// Sign-out successful.
				window.location.href = "../../index.html";
			}).catch((error) => {
				// An error happened.
			});
		}

		function displayCards(collection) {
			let CardTemplate = document.getElementById("CardTemplate");

			db.collection(collection).get()
				.then(snap => {
					var i = 1;

					snap.forEach(doc => {    //iterate thru each doc
						const { name, courseID, Location, Instructor } = doc.data();
						let newcard = CardTemplate.content.cloneNode(true);

						//update title and text and image
						newcard.querySelector('.card-title').innerHTML = name;
						newcard.querySelector('.card-text').innerHTML = courseID;
						newcard.querySelector('.card-text1').innerHTML = Location;
						newcard.querySelector('.card-text2').innerHTML = Instructor;

						newcard.querySelector('.card-image').src = "../../img/course" + i + ".jpg";  //hikes.jpg


						//give unique ids to all elements for future use
						newcard.querySelector('.card-title').setAttribute("id", "ctitle" + i);
						newcard.querySelector('.card-text').setAttribute("id", "ctext" + i);

						newcard.querySelector('.card-image').setAttribute("id", "cimage" + i);

						//attach to gallery "hikes-go-here" "heros-go-here" "countries-go-here"
						document.getElementById(collection + "-go-here").appendChild(newcard);
						i++;
					})
				})
		}

		displayCards("Term1");
	</script>
</body>

</html>